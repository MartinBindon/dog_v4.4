 <!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Vet Finder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <!-- references to locally stored javascript files that contain both framework functions -->
  <!-- and custom created functions specific to this application -->
  <script src="js/jquery-1.9.1.min.js"></script>
  <script src="js/jquery.mobile-1.3.1.min.js"></script>
  <script src="js/codiqa.ext.min.js"></script>
  <script src="js/geolocationAndMap.js"></script>
  <script src="js/localStorage.js"></script>
  <!-- loads google maps API, sensor = true enables HTML5 geolocation tools -->
  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp
  key=AIzaSyAW5rR3uLv0XhTYrca4KkoGL-_tyO16gvY&amp;sensor=true&amp;libraries=places">
  </script>
  <!-- removed this after changing the google maps reference above to include the places library. This ties the map, api key and places library together. -->
  <!-- loads google places API -->  
  <!--<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=places"></script>-->

  <!-- links to locally stored css files used to create appearance of application -->
  <link href="css/codiqa.ext.min.css" rel="stylesheet">
  <link href="css/jquery.mobile-1.3.1.min.css" rel="stylesheet">

</head>
<!-- The HTML is broken up into pages. The first page is the Home page. When the HTML body loads it calls the -->
<!-- initialize function which sets up the javaScript that runs throughout the application. -->
<body onload="initialize()">

<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!-- ++++++++++++++++++++++   Home page ++++++++++++++++++++++ -->
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- this page holds the home page content. Some is generated dynamically by JavaScript. -->
  <!-- One button is generated for each pet held in local storage. -->

  <!-- divs have styling applied to them, both for the jQuery Mobile framework and custom styling applied by Codiqa. -->
  <div data-role="page" data-control-title="Home - Alternate" id="home"
  style="background: url('img/dalmatian_spots_by_hello7891-d3gydkp.png') no-repeat; background-size: cover;">

<!--  ***** header for home page ***** -->

      <div data-theme="a" data-role="header">
          <h3>
              Dog owners companion
          </h3>
      </div>

<!-- ***** content for home page ***** -->

      <div data-role="content" style="padding: 20px">

          <!-- an example image is used here, but it is intended that an image can be loaded from the phone, the reference to its location -->
          <!-- stored in the petCollection storage item and then javascript used to place the image on the page. This enables the user -->
          <!-- to personalise the page as they wish -->
          <div style=" text-align:center" data-controltype="image">
              <img style="width: 288px; height: 200px" src="img/sp_a0054.jpg">
          </div>


          
            <a data-role="button" data-theme="b" href="#addPet"> <!-- removed  onclick="createPet();" -->
                Add new pet
            </a>

            <!-- This area is where buttons are generated by JavaScript based on the number of pets held in local storage. -->
            <div id="startPageButtonArea">
            </div>

      </div>


      <!-- Footer containing menu bar - it is fixed in position at the base of the page.-->
      <div class="ui-footer ui-bar-a ui-footer-fixed ui-fixed-overlay" data-role="footer">
        <div data-role="tabbar" data-iconpos="top" data-theme="a">
            <ul>
                <li>
                    <a href="#home" data-transition="fade" data-theme="" data-icon="home">
                        Home
                    </a>
                </li>

                <li>
                    <a href="#selectPet" data-transition="fade" data-theme="" data-icon="star">
                        Select Pet
                    </a>
                </li>

                <li>
                    <a href="#findButtons" data-transition="fade" data-theme="" data-icon="info">
                        Find
                    </a>
                </li>

                <li>
                    <a href="#about" data-transition="fade" data-theme="" data-icon="alert">
                        About
                    </a>
                </li>
            </ul>
        </div>
      </div>
  </div>



<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!-- +++++++++++++++   add a pet page - basic details +++++++++++++ -->
<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- This page enables the user to enter new information for a pet. Future functionality is required to -->
  <!-- enable editing of existing pets. -->
  <div data-role="page" data-control-title="Add pet 1" id="addPet">
      <div data-theme="a" data-role="header">
          <h3>
              Add pet
          </h3>
      </div>


      <!-- text input field intended to open keyboard when touched. -->
      <div data-role="content">

        <form id="addPetPage1">

          <div data-role="fieldcontain" data-controltype="textinput" id="petNameField">
              <label for="textinput1">
                  Name of pet
              </label>              
           
              <!-- changing the iput id to a more meaningful name removes the styling. -->
              <input name="petNameValue" id="textinput1" placeholder="" value="" type="text" >
          </div>


          <div data-role="fieldcontain" data-controltype="textinput" id="breedField">
              <label for="textinput2">
                  Breed
              </label>

              <input name="breedValue" id="textinput2" placeholder="optional" value="" type="text">
          </div>


          <div data-role="fieldcontain" data-controltype="camerainput">
              <label for="camerainput1">
                  Add photograph
              </label>

              <input name="" id="camerainput1" accept="image/*" capture="camera" type="file">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput3">
                  Registered veterinary practice
              </label>

              <input name="" id="textinput3" placeholder="name - optional" value=""
              type="text">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput4">
                  Veterinary practice contact number
              </label>

              <input name="" id="textinput4" placeholder="phone no - optional" value=""
              type="tel">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput5">
                  out of hours contact number
              </label>

              <input name="" id="textinput5" placeholder="phone no - optional" value=""
              type="tel">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput6">
                  Insurance company providing cover
              </label>

              <input name="" id="textinput6" placeholder="name - optional" value=""
              type="text">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput7">
                  Insurance company contact number
              </label>

              <input name="" id="textinput7" placeholder="Phone number - optional" value=""
              type="tel">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput8">
                  Insurance policy number
              </label>

              <input name="" id="textinput8" placeholder="policy no - optional" value=""
              type="text">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput9">
                  Age
              </label>

              <input name="" id="textinput9" placeholder="years - optional" value=""
              type="text">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput10">
                  Weight
              </label>

              <input name="" id="textinput10" placeholder="kg - optional" value="" type="text">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput11">
                  Flea treatment due
              </label>

              <input name="" id="textinput11" placeholder="date - optional" value=""
              type="date">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput12">
                  Worming treatment due
              </label>

              <input name="" id="textinput12" placeholder="date - optional" value=""
              type="date">
          </div>


          <div data-role="fieldcontain" data-controltype="textinput">
              <label for="textinput13">
                  Innoculations due
              </label>

              <input name="" id="textinput13" placeholder="date - optional" value=""
              type="text">
          </div>


          <a data-role="button" href="#home" onclick="createPet()">
              Finish
          </a>

      </form>

    </div>


      <div class="ui-footer ui-bar-a ui-footer-fixed ui-fixed-overlay" data-role="footer">
        <div data-role="tabbar" data-iconpos="top" data-theme="a">
            <ul>
                <li>
                    <a href="#home" data-transition="fade" data-theme="" data-icon="home">
                        Home
                    </a>
                </li>

                <li>
                    <a href="#selectPet" data-transition="fade" data-theme="" data-icon="star">
                        Select Pet
                    </a>
                </li>

                <li>
                    <a href="#findButtons" data-transition="fade" data-theme="" data-icon="info">
                        Find
                    </a>
                </li>

                <li>
                    <a href="#about" data-transition="fade" data-theme="" data-icon="alert">
                        About
                    </a>
                </li>
            </ul>
        </div>
    </div>
  </div>  


  
<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!-- ++++++++++++++++++++++   select pet ++++++++++++++++++++++ -->
<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- This page is intended for selecting pets from local storage. It will reqire javascript to extract and parse the JSON string -->
  <!-- then loop through the poets and dynamically create a button for each in the same fashion as the home page does. -->


  <div data-role="page" data-control-title="Select Pet" id="selectPet">



      <div data-theme="a" data-role="header">
          <h3>
              Select Pet
          </h3>
      </div>



      <div data-role="content">
          <hr style="height:3px; background-color:#ccc; border:0; margin-top:12px; margin-bottom:12px;">
          <div style=" text-align:center" data-controltype="image">
              <img style="width: 144px; height: 100px" src="img/sp_a0054.jpg">
          </div>
          <a data-role="button" href="#informationSummary" data-icon="info" data-iconpos="left" onclick="getPet()">
              Dog 1
          </a>
          <div style=" text-align:center" data-controltype="image">
              <img style="width: 144px; height: 100px" src="img/sp_a0041.jpg">
          </div>
          <a data-role="button" href="#informationSummary" data-icon="info" data-iconpos="left">
              Dog 2
          </a>
      </div>


      <div class="ui-footer ui-bar-a ui-footer-fixed ui-fixed-overlay" data-role="footer">
        <div data-role="tabbar" data-iconpos="top" data-theme="a">
            <ul>
                <li>
                    <a href="#home" data-transition="fade" data-theme="" data-icon="home">
                        Home
                    </a>
                </li>
                <li>
                    <a href="#selectPet" data-transition="fade" data-theme="" data-icon="star">
                        Select Pet
                    </a>
                </li>
                <li>
                    <a href="#findButtons" data-transition="fade" data-theme="" data-icon="info">
                        Find
                    </a>
                </li>
                <li>
                    <a href="#about" data-transition="fade" data-theme="" data-icon="alert">
                        About
                    </a>
                </li>
            </ul>
        </div>
      </div>
  </div>

  
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!-- ++++++++++++++++++++++  Summary Page ++++++++++++++++++++++ -->
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- This page is intended to show the information submitted by the user for a specific pet -->
  <!-- it requires the petCollection string to be collected from local storage and parsed to rebuild it to a format that javaScript can interact with. -->
  <!-- Once the petCollection has been converted, the correct pet can be extracted and the information inserted into the correct elements on the page. -->

  <div data-role="page" data-control-title="Health" id="informationSummary">



      <div data-theme="a" data-role="header">
          <h3>
              Health
          </h3>
      </div>



      <div data-role="content">
          <div style=" text-align:center" data-controltype="image" id="pet_image">
              <img style="width: 144px; height: 100px" src="img/sp_a0054.jpg">
          </div>
          <div data-controltype="textblock">
              <p>
                  <b>
                      Health information about
                      <span style="color: rgb(255, 0, 0);" data-mce-style="color: #ff0000;">
                          %petName
                      </span>
                  </b>
              </p>

              <hr style="height:3px; background-color:#000; border:0; margin-top:12px; margin-bottom:12px;">

              <article id="pet_details">

                <span><strong>Pet details</strong></span>

                </br>

                <section id="pet_breed">
                  Breed:
                  <div id="pet_breed_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

                <section id="pet_age">
                  Age:
                  <div id="pet_age_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

                <section id="pet_weight">
                  Weight:
                  <div id="pet_weight_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

              </article>

              <hr style="height:3px; background-color:#000; border:0; margin-top:12px; margin-bottom:12px;">

              <article id="vet_details">

                <span><strong>Vet details</strong></span>

                </br>

                <section id="vet_name">
                  Registered Vet:
                  <div id="vet_name_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

                <section id="vet_number">
                  Phone number:
                  <div id="vet_number_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

                <section id="vet_oohcontact">
                  Out of hours contact:
                  <div id="vet_oohcontact_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

                </br>

                <section id="tmt_flea">
                  Flea treatment due:
                  <div id="tmt_flea_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

                <section id="tmt_worm">
                  Worming treatment due:
                  <div id="tmt_worm_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

                <section id="tmt_jab">
                  Innoculations due:
                  <div id="tmt_jab_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

              </article>

              <hr style="height:3px; background-color:#000; border:0; margin-top:12px; margin-bottom:12px;">

              <article id="insurance_details">

                <span><strong>Insurance details</strong></span>

                </br>

                <section id="ins_name">
                  Name:
                  <div id="ins_name_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

                <section id="ins_policyNo">
                  Policy number:
                  <div id="ins_policyNo_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

                <section id="ins_contact">
                  Contact number:
                  <div id="ins_contact_value" style="float: right; text-align: left;">
                    Placeholder
                  </div>
                </section>

              </article>
              
              <p>
                  </br>
              </p>
          </div>
      </div>


      <div class="ui-footer ui-bar-a ui-footer-fixed ui-fixed-overlay" data-role="footer">
        <div data-role="tabbar" data-iconpos="top" data-theme="a">
            <ul>
                <li>
                    <a href="#home" data-transition="fade" data-theme="" data-icon="home">
                        Home
                    </a>
                </li>
                <li>
                    <a href="#selectPet" data-transition="fade" data-theme="" data-icon="star">
                        Select Pet
                    </a>
                </li>
                <li>
                    <a href="#findButtons" data-transition="fade" data-theme="" data-icon="info">
                        Find
                    </a>
                </li>
                <li>
                    <a href="#about" data-transition="fade" data-theme="" data-icon="alert">
                        About
                    </a>
                </li>
            </ul>
        </div>
      </div>
  </div>
  
<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!-- ++++++++++++++++++++++   Find button page ++++++++++++++++++++++ -->
<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- This page enables the user to either conduct a pre selected search based on common dog owner requirements, or input and submit a custom search. -->
  <!-- this feature requires the device to be connected to the network. -->

  <div data-role="page" data-control-title="Find 1" id="findButtons">
     


      <div data-theme="a" data-role="header">
          <h3>
              Find
          </h3>
      </div>



      <div data-role="content">
          <div data-controltype="textblock">
              <p>
                  <b>
                      Search
                  </b>
              </p>
          </div>
          <div data-role="fieldcontain" data-controltype="searchinput" class="ui-grid-a">

            <div class="ui-block-a">
              <input name="searchbox" id="searchinput3" placeholder="" value="" data-type="search" data-inline="true">
            </div>

            <!-- when the submit button is pressed, the text input is collected and passed as a search parameter -->
            <div class="ui-block-b">
              <button type="submit" data-inline="true" onClick="textSearch()" style="float: right;">
                Search!
              </button>
            </div>

          </div><!-- /grid-b -->
          <div data-controltype="textblock">
              <p>
                  <b>
                      Or locate the nearest...
                      <br>
                  </b>
              </p>

          </div>

          <!-- These links call a function that sets the specific search parameters -->
          <a data-role="button" id="#findMapsButton-1" onClick="petStoreSearch()">
              Pet store
          </a>

          <a data-role="button" href="#findMaps" onClick="vetSearch()">
              Veterinary practice
          </a>

          <a data-role="button" href="#findMaps" onClick="kennelsSearch()">
              Kennels
          </a>

          <a data-role="button" href="#findMaps" onClick="dogWalkingSearch()">
              Dog walking
          </a>

          <a data-role="button" href="#findMaps"onClick="petSitterSearch()">
              Pet sitter
          </a>

      </div>


      <div class="ui-footer ui-bar-a ui-footer-fixed ui-fixed-overlay" data-role="footer">
        <div data-role="tabbar" data-iconpos="top" data-theme="a">
            <ul>
                <li>
                    <a href="#home" data-transition="fade" data-theme="" data-icon="home">
                        Home
                    </a>
                </li>
                <li>
                    <a href="#selectPet" data-transition="fade" data-theme="" data-icon="star">
                        Select Pet
                    </a>
                </li>
                <li>
                    <a href="#findButtons" data-transition="fade" data-theme="" data-icon="info">
                        Find
                    </a>
                </li>
                <li>
                    <a href="#about" data-transition="fade" data-theme="" data-icon="alert">
                        About
                    </a>
                </li>
            </ul>
        </div>
      </div>
  </div>
  
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!-- ++++++++++++++++++++++   Find map page ++++++++++++++++++++++ -->
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- Displays a map based on the users current location (using geolocation) and places markers for search returns. -->
  <div data-role="page" data-control-title="Find 2" id="findMaps">


      <div data-theme="a" data-role="header">
          <h3>
              Find
          </h3>
      </div>


      <div data-role="content">
          <div data-controltype="textblock" id="mapPage2Text">
              <p>
                  <b>
                      Your 
                      <span id="searchID" style="color: rgb(255, 0, 0);">                         
                      </span>
                       can be found here...
                      <br>
                      <!--<div id="locationNote">
                        X
                      </div>-->
                  </b>
              </p>
          </div>
          <hr style="height:5px; background-color:#000; border:0; margin-top:12px; margin-bottom:12px;">
          <div id="map_canvas" class="google-map" style="width: 288px; height: 300px; margin-left: auto; margin-right: auto; background-color: #CCC">
          </div>


          <a data-role="button" href="#findButtons">
              Back
          </a>
      </div>


      <div class="ui-footer ui-bar-a ui-footer-fixed ui-fixed-overlay" data-role="footer">
        <div data-role="tabbar" data-iconpos="top" data-theme="a">
            <ul>
                <li>
                    <a href="#home" data-transition="fade" data-theme="" data-icon="home">
                        Home
                    </a>
                </li>
                <li>
                    <a href="#selectPet" data-transition="fade" data-theme="" data-icon="star">
                        Select Pet
                    </a>
                </li>
                <li>
                    <a href="#findButtons" data-transition="fade" data-theme="" data-icon="info">
                        Find
                    </a>
                </li>
                <li>
                    <a href="#about" data-transition="fade" data-theme="" data-icon="alert">
                        About
                    </a>
                </li>
            </ul>
        </div>
      </div>
  </div>

  
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!-- ++++++++++++++++++++++   about page ++++++++++++++++++++++ -->
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->


  <div data-role="page" data-control-title="About" id="about">



      <div data-theme="a" data-role="header">
          <h3>
              About
          </h3>
      </div>



      <div data-role="content">
          <div data-controltype="textblock">
              <p>
                  <b>
                      the 'about' text goes here.
                      <br>
                  </b>
              </p>
          </div>
      </div>

      <div class="ui-footer ui-bar-a ui-footer-fixed ui-fixed-overlay" data-role="footer">
        <div data-role="tabbar" data-iconpos="top" data-theme="a">
            <ul>
                <li>
                    <a href="#home" data-transition="fade" data-theme="" data-icon="home">
                        Home
                    </a>
                </li>
                <li>
                    <a href="#selectPet" data-transition="fade" data-theme="" data-icon="star">
                        Select Pet
                    </a>
                </li>
                <li>
                    <a href="#findButtons" data-transition="fade" data-theme="" data-icon="info">
                        Find
                    </a>
                </li>
                <li>
                    <a href="#about" data-transition="fade" data-theme="" data-icon="alert">
                        About
                    </a>
                </li>
            </ul>
        </div>
      </div>
  </div>



<!-- This page is no longer used. It has been left in to show that changes were made during the development process. -->
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<!-- ++++++++++++++++++++++   Complete page ++++++++++++++++++++++ -->
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->


  <div data-role="page" data-control-title="Complete" id="complete">



      <div data-theme="a" data-role="header">
          <h3>
              Header
          </h3>
      </div>



      <div data-role="content">
          <div data-controltype="textblock">
              <p>
                  <br>
              </p>
              <p>
                  <span data-mce-bogus="true" id="_mce_caret">
                      <span style="font-size: x-large;">
                          ​Complete!
                      </span>
                  </span>
                  <br>
              </p>
              <p>
                  <span data-mce-bogus="true">
                      <span style="font-size: x-large;">
                          <br>
                      </span>
                  </span>
              </p>
          </div>
          <a data-role="button" href="#selectPet">
              Continue
          </a>
      </div>


      <div class="ui-footer ui-bar-a ui-footer-fixed ui-fixed-overlay" data-role="footer">
        <div data-role="tabbar" data-iconpos="top" data-theme="a">
            <ul>
                <li>
                    <a href="#home" data-transition="fade" data-theme="" data-icon="home">
                        Home
                    </a>
                </li>
                <li>
                    <a href="#selectPet" data-transition="fade" data-theme="" data-icon="star">
                        Select Pet
                    </a>
                </li>
                <li>
                    <a href="#findButtons" data-transition="fade" data-theme="" data-icon="info">
                        Find
                    </a>
                </li>
                <li>
                    <a href="#about" data-transition="fade" data-theme="" data-icon="alert">
                        About
                    </a>
                </li>
            </ul>
        </div>
      </div>
  </div>

</body>
</html>
